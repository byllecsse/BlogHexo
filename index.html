<!DOCTYPE html><html lang="en"><head><meta name="generator" content="Hexo 3.9.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>Bylle</title><link rel="stylesheet" type="text/css" href="/HexoBlog/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/8.0.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.1/pure-min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.1/grids-responsive-min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/3.4.1/jquery.min.js"></script><link rel="icon" mask sizes="any" href="/HexoBlog/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/HexoBlog/favicon.ico"><link rel="apple-touch-icon" href="/HexoBlog/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/HexoBlog/apple-touch-icon.png"><script type="text/javascript" src="//lib.baomitu.com/clipboard.js/2.0.4/clipboard.min.js"></script><script type="text/javascript" src="//lib.baomitu.com/toastr.js/2.1.4/toastr.min.js"></script><link rel="stylesheet" href="//lib.baomitu.com/toastr.js/2.1.4/toastr.min.css"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Bylle</h1><a id="logo" href="/HexoBlog/.">Bylle</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/HexoBlog/."><i class="fa fa-home"> Home</i></a><a href="/HexoBlog/archives/"><i class="fa fa-archive"> Archive</i></a><a href="/HexoBlog/about/"><i class="fa fa-user"> About</i></a><a href="/HexoBlog/atom.xml"><i class="fa fa-rss"> RSS</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title"><a href="/HexoBlog/2020/04/11/Unity-Shader-VectexShader实现水波纹/">用VectexShader实现水波纹</a></h1><div class="post-meta">2020-04-11</div><div class="post-content"><p>顶点动画最常见于规律性的海洋波浪，空中飘舞的旗帜。</p>
<p>有规律可循的变换是计算机程序的强项，程序的计算模拟重复性或者随机性的动画，如波浪、漩涡，在没有其他因素干扰的情况下，他们都会保持一定的系数继续维持当前状态，所以用顶点动画来实现这类动画效果是最方便的，并且使用代码的变换计算对于骨骼或者帧动画来说，性能消耗更小，而且人工实现起来，需要较少的工时。</p></div><p class="readmore"><a href="/HexoBlog/2020/04/11/Unity-Shader-VectexShader实现水波纹/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/HexoBlog/2020/04/11/Unity-Shader-简单SurfaceShader分析/">一个简单SurfaceShader的分析</a></h1><div class="post-meta">2020-04-11</div><div class="post-content"><p>翻译成中文就是：表面着色器。</p>
<p>和vertex shader(顶点着色器)和fragment shader(片段着色器)不同，surface shader(表面着色器)不是一个标准渲染管线的必须过程，因为用vertex shader和fragment shader计算光照比较复杂麻烦，涉及到的代码也比较多，因此unity替我们封装了光照部分的计算，包括不同照明、点光源、平行光、光照贴图、不同的阴影，通过表面着色器我们不用关注底层的光照计算，不用管每个顶点、片段的光照值，相当于一段封装好的函数，直接拿来使用，使用方式也十分简单，你只需要了解ShaderLab的语法和使用规则，代码结构、输入输出和之前的着色器保持一致，也就是说没有什么学习成本，还帮我们省了不少事。  </p></div><p class="readmore"><a href="/HexoBlog/2020/04/11/Unity-Shader-简单SurfaceShader分析/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/HexoBlog/2020/04/11/Unity-降低DrawCall的手段/">降低DrawCall的手段</a></h1><div class="post-meta">2020-04-11</div><div class="post-content"><p>Unity（或者说基本所有图形引擎）生成一帧画面的处理过程大致可以这样简化描述：引擎首先经过简单的可见性测试，确定摄像机可以看到的物体，然后把这些物体的顶点（包括本地位置、法线、UV等），索引（顶点如何组成三角形），变换（就是物体的位置、旋转、缩放、以及摄像机位置等），相关光源，纹理，渲染方式（由材质/Shader决定）等数据准备好，然后通知图形API——或者就简单地看作是通知GPU——开始绘制，GPU基于这些数据，经过一系列运算，在屏幕上画出成千上万的三角形，最终构成一幅图像。  </p></div><p class="readmore"><a href="/HexoBlog/2020/04/11/Unity-降低DrawCall的手段/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/HexoBlog/2020/04/10/Unity-浅谈衣柜系统/">浅谈衣柜系统</a></h1><div class="post-meta">2020-04-10</div><div class="post-content"><p>　　游戏角色换装分为以下几步：</p>
<p>　　　　1.替换蒙皮网格</p>
<p>　　　　2.刷新骨骼</p>
<p>　　　　3.替换材质</p>
<p>　　上面这种是比较简单的换装，可以实现，但是一般我们为了降低游戏的Draw Call会合并模型的网格，这就需要我们重新计算UV，还要合并贴图和材质。这种复杂的实现分为以下几步：</p></div><p class="readmore"><a href="/HexoBlog/2020/04/10/Unity-浅谈衣柜系统/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/HexoBlog/2020/04/10/Lua-Class的实现/">Lua class  实现</a></h1><div class="post-meta">2020-04-10</div><div class="post-content"><p>Lua是没有类的(class)，它只有表(table)</p>
<p>这个class本身传参了class name，class_name被赋值给了自身new_class lua table的<strong>cname键值属性，检查有无super传入，设置自身元表super，否则定义元表为自身表，其实可以写成</strong>index = self.<br>new方法是外部用来创建类对象，new方法内创建一个临时变量Object是该类的对象，object.__class字段赋值自身new_class，设置自身的元表：</p></div><p class="readmore"><a href="/HexoBlog/2020/04/10/Lua-Class的实现/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/HexoBlog/2020/04/10/Unity-Shader-模板测试/">Unity 模板测试</a></h1><div class="post-meta">2020-04-10</div><div class="post-content"><p>Stencil模板测试，用于检查像素是否保留（输入缓冲区），Stencil内包含Ref ReadMask WriteMask Comp Pass Fail ZFail参数，用于记录一个模板对像素值的过滤，满足条件的输入缓冲区，不满足条件的直接丢弃。</p>
<p>来看个例子，来自Unity官方文档：<br>无论深度输入值是多少，‘永远’将输入值替换为‘2’写入缓冲区。<br>write the value ‘2’ wherever the depth test passes. The stencil test is set to always pass.</p></div><p class="readmore"><a href="/HexoBlog/2020/04/10/Unity-Shader-模板测试/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/HexoBlog/2020/02/23/xLua-热更新实现原理/">xLua热更新实现原理</a></h1><div class="post-meta">2020-02-23</div><div class="post-content"><p>HotFix实现方案：</p>
<p>第一步：通过对C#的类与函数设置Hotfix标签。来标识需要支持热更的类和函数。<br>第二步：生成函数连接器来连接LUA脚本与C#函数。<br>第三步：在C#脚本编译结束后，使用Mono提供的一套C#的API函数，对已经编译过的.Net体系生成的DLL文件进行修改。<br>第四步，通过LUA脚本修改C#带有标签的类中静态变量，把代码的执行路径修改到LUA脚本中。</p></div><p class="readmore"><a href="/HexoBlog/2020/02/23/xLua-热更新实现原理/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/HexoBlog/2020/02/20/Lua-Table的内部实现/">Lua table的内部实现</a></h1><div class="post-meta">2020-02-20</div><div class="post-content"><h2 id="整数类型的数组存放"><a href="#整数类型的数组存放" class="headerlink" title="整数类型的数组存放"></a>整数类型的数组存放</h2><p>一般情况下，整数类型的键都是放在数组里的，但是有2种特殊情况会被分配到hash表里。 </p>
<p><em>n=键值区间2的指数。</em></p></div><p class="readmore"><a href="/HexoBlog/2020/02/20/Lua-Table的内部实现/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/HexoBlog/2020/02/19/Lua-与C#交互/">CSharp-Lua-交互</a></h1><div class="post-meta">2020-02-19</div><div class="post-content"><h2 id="普通C-调用lua"><a href="#普通C-调用lua" class="headerlink" title="普通C#调用lua"></a>普通C#调用lua</h2><p>需要先下载<a href="http://files.luaforge.net/releases/luainterface/luainterface" target="_blank" rel="noopener">lua支持类库</a>将LuaInterface.dll &amp; luaxx.dll(xx是lua版本)引用到项目中。</p></div><p class="readmore"><a href="/HexoBlog/2020/02/19/Lua-与C#交互/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/HexoBlog/2020/02/18/Unity-AssetBundle基础/">AssetBundle基础</a></h1><div class="post-meta">2020-02-18</div><div class="post-content"><p>本篇从管理机制的角度出发，谈谈其资源加载和卸载的原理。</p>
<h2 id="几种加载方式比较"><a href="#几种加载方式比较" class="headerlink" title="几种加载方式比较"></a>几种加载方式比较</h2><p>通过AssetBundle加载资源，分为两步，第一步是获取AssetBundle对象，第二步是通过该对象加载需要的资源。</p></div><p class="readmore"><a href="/HexoBlog/2020/02/18/Unity-AssetBundle基础/">Read More</a></p></div><nav class="page-navigator"><span class="page-number current">1</span><a class="page-number" href="/HexoBlog/page/2/">2</a><a class="extend next" rel="next" href="/HexoBlog/page/2/">Next</a></nav></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"><input type="hidden" name="sitesearch" value="http://yoursite.com"></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Categories</i></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/HexoBlog/2020/04/11/Unity-Shader-VectexShader实现水波纹/">用VectexShader实现水波纹</a></li><li class="post-list-item"><a class="post-list-link" href="/HexoBlog/2020/04/11/Unity-Shader-简单SurfaceShader分析/">一个简单SurfaceShader的分析</a></li><li class="post-list-item"><a class="post-list-link" href="/HexoBlog/2020/04/11/Unity-降低DrawCall的手段/">降低DrawCall的手段</a></li><li class="post-list-item"><a class="post-list-link" href="/HexoBlog/2020/04/10/Unity-浅谈衣柜系统/">浅谈衣柜系统</a></li><li class="post-list-item"><a class="post-list-link" href="/HexoBlog/2020/04/10/Lua-Class的实现/">Lua class  实现</a></li><li class="post-list-item"><a class="post-list-link" href="/HexoBlog/2020/04/10/Unity-Shader-模板测试/">Unity 模板测试</a></li><li class="post-list-item"><a class="post-list-link" href="/HexoBlog/2020/02/23/xLua-热更新实现原理/">xLua热更新实现原理</a></li><li class="post-list-item"><a class="post-list-link" href="/HexoBlog/2020/02/20/Lua-Table的内部实现/">Lua table的内部实现</a></li><li class="post-list-item"><a class="post-list-link" href="/HexoBlog/2020/02/19/Lua-与C#交互/">CSharp-Lua-交互</a></li><li class="post-list-item"><a class="post-list-link" href="/HexoBlog/2020/02/18/Unity-AssetBundle基础/">AssetBundle基础</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Links</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2020 <a href="/HexoBlog/." rel="nofollow">Bylle.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/HexoBlog/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/HexoBlog/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><script type="text/javascript" src="/js/copycode.js" successtext="Copy Successed!"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css"><script type="text/javascript" src="/HexoBlog/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/HexoBlog/js/smartresize.js?v=0.0.0"></script></div></body></html>